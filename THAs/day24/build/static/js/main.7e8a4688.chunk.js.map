{"version":3,"sources":["Components/auth/authContext.jsx","Components/routes/Home.jsx","Components/routes/About.jsx","Components/routes/Profile.jsx","Components/routes/DashBoard.jsx","Components/routes/PrivateRoute.jsx","Components/types.jsx","Components/auth/authReducer.jsx","Components/auth/AuthState.jsx","Components/routes/Router.jsx","Components/App.jsx","index.js"],"names":["authContext","createContext","Home","useContext","AuthContext","console","log","login","isAuthenticated","logout","loading","onClick","About","Profile","DashBoard","PrivateRoute","Component","componenet","rest","render","props","to","REGISTER_SUCCESS","LOGIN_SUCCESS","LOGOUT","SET_LOADING","AuthReducer","state","action","type","payload","AuthState","sleep","ms","Promise","resolve","setTimeout","useReducer","dispatch","setLoading","register","a","useEffect","then","Provider","value","children","Rout","className","exact","path","component","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7e8a4688.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nconst authContext = createContext();\r\n\r\nexport default authContext;","import React, { useContext } from \"react\";\r\nimport AuthContext from \"../auth/authContext\"\r\n// import { LOGOUT } from \"../context/types\"\r\n\r\nexport default function Home() {\r\n    const authContext = useContext(AuthContext);\r\n    console.log(authContext);\r\n    const {login, isAuthenticated, logout, loading} = authContext;\r\n    \r\n    return(\r\n        <section>\r\n            <h1>HOME</h1>\r\n            <h2>If not logged in, you cannot access Profile & DashBoard</h2>\r\n\r\n            {loading ? <p>Loading...</p> : !isAuthenticated ? (\r\n                <button onClick={login}>Login</button>\r\n            ) : (\r\n                <button onClick={logout}>Logout</button>\r\n            )}\r\n        </section>\r\n    );\r\n}","import React from \"react\";\r\n\r\nexport default function About() {\r\n    return (\r\n        <section>\r\n            <h2>About: Public route</h2>\r\n        </section>\r\n    );\r\n}","import React from \"react\";\r\n\r\nexport default function Profile() {\r\n    return (\r\n        <section>\r\n            <h1>Profile: Private route</h1>\r\n        </section>\r\n    );\r\n}","import React from \"react\";\r\n\r\nexport default function DashBoard() {\r\n    return (\r\n        <section>\r\n            <h1>Dashboard: Private route</h1>\r\n        </section>\r\n    );\r\n}","import React, { useContext } from \"react\";\r\nimport {\r\n    Route,\r\n    Redirect\r\n} from \"react-router-dom\";\r\nimport AuthContext from \"../auth/authContext\"\r\n\r\nexport default function PrivateRoute({componenet: Component, ...rest}) {\r\n    const authContext = useContext(AuthContext);\r\n    const { isAuthenticated } = authContext;\r\n    return (\r\n        <Route {...rest} \r\n            render = {props => !isAuthenticated ? <Redirect to='/' /> : <Component {...props} />} \r\n        />\r\n    );\r\n};","export const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const SET_LOADING = 'SET_LOADING';\r\n","import {REGISTER_SUCCESS, LOGIN_SUCCESS, LOGOUT, SET_LOADING} from \"../types\"\r\n\r\nexport default function AuthReducer(state, action) {\r\n    switch(action.type) {\r\n        case REGISTER_SUCCESS:\r\n        case LOGIN_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n            };\r\n        case LOGOUT:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: false,\r\n                loading: false,\r\n            };\r\n        case SET_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: action.payload,\r\n            };\r\n        default: \r\n            return state;\r\n    }\r\n}","import React, { useReducer, useEffect } from \"react\";\r\nimport AuthContext from \"./authContext\";\r\nimport AuthReducer from \"./authReducer\";\r\nimport { REGISTER_SUCCESS, LOGIN_SUCCESS, LOGOUT, SET_LOADING } from \"../types\";\r\n\r\nexport default function AuthState(props) {\r\n    const sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n    const initialState = {\r\n        isAuthenticated: false,\r\n        loading: true,\r\n    };\r\n\r\n    const [state, dispatch] = useReducer(AuthReducer, initialState);\r\n\r\n    const setLoading = (state) => {\r\n        dispatch({\r\n            type: SET_LOADING,\r\n            payload: state,\r\n        });\r\n    };\r\n\r\n    const register = async () => {\r\n        setLoading(true);\r\n        await sleep(1000);\r\n        dispatch({\r\n            type: REGISTER_SUCCESS,\r\n        });\r\n    };\r\n\r\n    const login = async () => {\r\n        setLoading(true);\r\n        await sleep(1000);\r\n        dispatch({\r\n            type: LOGIN_SUCCESS,\r\n        });\r\n    };\r\n\r\n    const logout = () => {\r\n        setLoading(true);\r\n        sleep(1000).then(() => dispatch({\r\n            type: LOGOUT,\r\n        }));\r\n    };\r\n\r\n    useEffect(() => {\r\n        sleep(1500).then(() => setLoading(false));\r\n    }, []);\r\n\r\n    return (\r\n        <AuthContext.Provider\r\n        value={{\r\n            isAuthenticated: state.isAuthenticated,\r\n            loading: state.loading,\r\n            register,\r\n            login,\r\n            logout,\r\n        }}\r\n        >\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    );\r\n}","import React from \"react\";\r\nimport \"../../css/App.css\";\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch, \r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\nimport Home from \"./Home\";\r\nimport About from \"./About\";\r\nimport Profile from \"./Profile\";\r\nimport DashBoard from \"./DashBoard\";\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport AuthState from \"../auth/AuthState\";\r\n\r\n\r\nexport default function Rout() {\r\n    return (\r\n        <Router>\r\n            <AuthState>\r\n                <nav className=\"navbar\">\r\n                    <ul>\r\n                        <li><Link to=\"/\">Home</Link></li>\r\n                        <li><Link to=\"/about\">About</Link></li>\r\n                        <li><Link to=\"/profile\">Profile</Link></li>\r\n                        <li><Link to=\"/dashboard\">Dashboard</Link></li>\r\n                    </ul>\r\n                </nav>\r\n\r\n\r\n                <section className=\"App\">\r\n                    <Switch>\r\n                        <Route exact path='/' component={Home} />\r\n                        <PrivateRoute exact path=\"/profile\" component={Profile} />\r\n                        <Route exact path='/about' component={About} />\r\n                        <PrivateRoute exact path='/dashboard' component={DashBoard} />\r\n                    </Switch>\r\n                </section>\r\n            </AuthState>\r\n        </Router>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import '../css/App.css';\nimport Rout from './routes/Router';\n\nfunction App() {\n    return <Rout />\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}